
<div class="container-fluid">
    <div class="row my-3">
        <a class="btn-primary w-auto" routerLink="/myProfile"><i class="bi bi-arrow-left"></i> Powrót do profilu</a>
        </div>
    <div *ngIf="errorFlag=='error'" class="error-popup">
      Wystapił błąd podczas dodawania certyfikatu. Proszę spróbować ponownie.
    </div>

  <div class="row bg-secondary rounded-div shadow">
    <div class="col-12 bg-primary rounded-top-3 py-2">
        <h1 class="text-center text-white">Dodawanie certyfikatu</h1>
    </div>
      <form #profileForm="ngForm" (ngSubmit)="onSubmit()">
      
      <div class="col-12 group mt-3">
              <label for="description">Opis *</label>
              <textarea rows="5" id="description" name="description" [(ngModel)]="certificate.description"
                  required minlength="3" maxlength="200" #description="ngModel"></textarea>
              <div class="error-container">
                  <span *ngIf="description.errors?.['required'] && this.submitted" class="validation-error">
                      Pole jest wymagane
                  </span>
                  <span *ngIf="description.errors?.['minlength'] && this.submitted" class="validation-error">
                      Pole musi zawierać min 3 znaki
                  </span>
                  <span *ngIf="description.errors?.['maxlength'] && this.submitted" class="validation-error">
                      Pole musi zawierać max 200 znaków
                  </span>
                  <span *ngIf="fieldErrors['Description']" class="validation-error">
                    {{ fieldErrors['Description'][0] }}
                </span>
              </div>
      </div>
      
      
      <div class="col-12 file-container">
              <label>Plik pdf *</label>
              <div>
              <input style="border:none;" class="file-input" type="file" id="file" name="file" (change)="onFileSelected($event)" required>
              <div class="btn-primary" style="width: fit-content;">
                <label for="file" class="image-label">Dodaj plik z certyfikatem</label>
            </div>
            <div class="name-container"><span>{{certificate.pdfFile?.name}}</span></div>
            
            
        </div>
              <div class="error-container">
                <span *ngIf="errorFile && this.submitted" class="validation-error">
                    {{errorFile}}
                </span>
                <span *ngIf="fieldErrors['PdfFile']" class="validation-error">
                    {{ fieldErrors['PdfFile'][0] }}
                </span>
                </div>
          </div>

      
      

      <div class="col-12 d-flex justify-content-center mt-4">
          <div class="d-flex justify-content-center" style="width: 60%;">
              <button type="submit" class="btn-primary mb-3">Dodaj</button>
          </div>
      </div>
     

  </form>

</div>
</div>