<div class="container-fluid mt-5">
    <ng-container *ngIf="!error">
    <app-menu-admin></app-menu-admin>
    <input type="text" class="form-control mb-3 fs-5" placeholder="Szukaj siłowni..." [(ngModel)]="searchTerm" (input)="filterGyms()">
    </ng-container>

    <ng-container *ngIf="error">
        <h1 class="text-center mt-5">Brak siłownii o podanym statusie</h1>
    </ng-container>

    <ng-container *ngIf="gyms.length === 0 && !error">
        <h1 *ngIf="status=='Pending'" class="text-center mt-5">Brak siłownii do zatwierdzenia</h1>
        <h1 *ngIf="status=='Active'" class="text-center mt-5">Brak siłownii</h1>
    </ng-container>

<div *ngIf="gyms.length > 0">
    <table class="table table-striped table-responsive">
        <thead>
            <tr>
                <th scope="col" style="width: 20%;">Miasto</th>
                <th scope="col" style="width: 25%;">Nazwa siłowni</th>
                <th scope="col" style="width: 25%;">Ulica</th>
                <th scope="col" style="width: 30%;">Akcje</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let gym of filteredGyms">
                <td>{{ gym.city }}</td>
                <td>{{ gym.name }}</td>
                <td>{{ gym.street }}</td>
                <td>
                    <ng-container *ngIf="status === 'Active'">
                        <div class="btn-container">
                            <button type="button" class="btn-custom btn-detail" routerLink="/adminGymList/details/{{gym.idGym}}">Szczegóły</button>
                            <button type="button" class="btn-custom btn-edit" routerLink="/adminGymList/edit/{{gym.idGym}}">Edytuj</button>
                            <button type="button" class="btn-custom btn-delete" (click)="deleteGym(gym.idGym)">Usuń</button>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="status === 'Pending'">
                        <button type="button" class="btn-custom btn-detail" routerLink="/adminGymList/vetification/{{gym.idGym}}">Zweryfikuj</button>
                    </ng-container>
                </td>
            </tr>
        </tbody>
    </table>
</div>
